[
    {
        "description": "single dependency",
        "schema": {
            "dependentSchemas": {
                "bar": {
                    "properties": {
                        "foo": {"type": "integer"},
                        "bar": {"type": "integer"}
                    }
                }
            }
        },
        "tests": [
            {
                "description": "valid",
                "data": {"foo": 1, "bar": 2},
                "valid": true
            },
            {
                "description": "no dependency",
                "data": {"foo": "quux"},
                "valid": true
            },
            {
                "description": "wrong type",
                "data": {"foo": "quux", "bar": 2},
                "valid": false
            },
            {
                "description": "wrong type other",
                "data": {"foo": 2, "bar": "quux"},
                "valid": false
            },
            {
                "description": "wrong type both",
                "data": {"foo": "quux", "bar": "quux"},
                "valid": false
            }
        ]
    },
    {
        "description": "boolean subschemas",
        "schema": {
            "dependentSchemas": {
                "foo": true,
                "bar": false
            }
        },
        "tests": [
            {
                "description": "object with property having schema true is valid",
                "data": {"foo": 1},
                "valid": true
            },
            {
                "description": "object with property having schema false is invalid",
                "data": {"bar": 2},
                "valid": false
            },
            {
                "description": "object with both properties is invalid",
                "data": {"foo": 1, "bar": 2},
                "valid": false
            },
            {
                "description": "empty object is valid",
                "data": {},
                "valid": true
            }
        ]
    },
    {
        "description": "dependencies with escaped characters",
        "schema": {
            "dependentSchemas": {
                "foo\tbar": {"minProperties": 4},
                "foo'bar": {"required": ["foo\"bar"]}
            }
        },
        "tests": [
            {
                "description": "quoted tab",
                "data": {
                    "foo\tbar": 1,
                    "a": 2,
                    "b": 3,
                    "c": 4
                },
                "valid": true
            },
            {
                "description": "quoted quote",
                "data": {
                    "foo'bar": {"foo\"bar": 1}
                },
                "valid": false
            },
            {
                "description": "quoted tab invalid under dependent schema",
                "data": {
                    "foo\tbar": 1,
                    "a": 2
                },
                "valid": false
            },
            {
                "description": "quoted quote invalid under dependent schema",
                "data": {"foo'bar": 1},
                "valid": false
            }
        ]
    },
    {
        "description": "Meta-schema applicator tests: conditional",
        "schema": {
            "$ref": "https://json-schema.org/draft/2019-09/schema"
        },
        "tests": [
            {
                "description": "Non-object dependentSchemas: string",
                "data": {
                    "dependentSchemas": "hello"
                },
                "valid": false
            },
            {
                "description": "Non-object dependentSchemas: Boolean",
                "data": {
                    "dependentSchemas": true
                },
                "valid": false
            },
            {
                "description": "Non-object dependentSchemas: null",
                "data": {
                    "dependentSchemas": null
                },
                "valid": false
            },
            {
                "description": "Non-object dependentSchemas: number",
                "data": {
                    "dependentSchemas": 1
                },
                "valid": false
            },
            {
                "description": "Non-object dependentSchemas: array",
                "data": {
                    "dependentSchemas": []
                },
                "valid": false
            },
            {
                "description": "Non-schema property in dependentSchemas: string",
                "data": {
                    "dependentSchemas": {
                        "hello": "there"
                    }
                },
                "valid": false
            },
            {
                "description": "Non-schema property in dependentSchemas: null",
                "data": {
                    "dependentSchemas": {
                        "hello": null
                    }
                },
                "valid": false
            },
            {
                "description": "Non-schema property in dependentSchemas: number",
                "data": {
                    "dependentSchemas": {
                        "hello": 1
                    }
                },
                "valid": false
            },
            {
                "description": "Non-schema property in dependentSchemas: array",
                "data": {
                    "dependentSchemas": {
                        "hello": []
                    }
                },
                "valid": false
            },
            {
                "description": "Boolean property in dependentSchemas",
                "data": {
                    "dependentSchemas": {
                        "hello": true
                    }
                },
                "valid": true
            },
            {
                "description": "Object property in dependentSchemas",
                "data": {
                    "dependentSchemas": {
                        "hello": {}
                    }
                },
                "valid": true
            },
            {
                "description": "Empty dependentSchemas",
                "data": {
                    "dependentSchemas": {}
                },
                "valid": true
            }
        ]
    }
]
