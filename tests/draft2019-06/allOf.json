[
  {
    "description": "allOf",
    "schema": {
      "allOf": [
        {"properties": {"bar": {"type": "integer"}}, "required": ["bar"]},
        {"properties": {"foo": {"type": "string"}}, "required": ["foo"]}
      ]
    },
    "tests": [
      {
        "description": "allOf",
        "data": {"foo": "baz", "bar": 2},
        "valid": true,
        "output": {
          "basic": {
            "valid": true,
            "keywordLocation": "#",
            "instanceLocation": "#"
          },
          "detailed": {
            "valid": true,
            "keywordLocation": "#",
            "instanceLocation": "#"
          },
          "verbose": {
            "valid": true,
            "keywordLocation": "#",
            "instanceLocation": "#",
            "annotations": [
              {
                "valid": true,
                "keywordLocation": "#/allOf",
                "instanceLocation": "#",
                "keyword": "allOf",
                "annotations": [
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/0",
                    "instanceLocation": "#",
                    "annotations": [
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/0/properties",
                        "instanceLocation": "#",
                        "keyword": "properties",
                        "annotations": [
                          {
                            "valid": true,
                            "keywordLocation": "#/allOf/0/properties/bar",
                            "instanceLocation": "#/bar",
                            "annotations": [
                              {
                                "valid": true,
                                "keywordLocation": "#/allOf/0/properties/bar/type",
                                "instanceLocation": "#/bar",
                                "keyword": "type"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/0/required",
                        "instanceLocation": "#",
                        "keyword": "required"
                      }
                    ]
                  },
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/1",
                    "instanceLocation": "#",
                    "annotations": [
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/1/properties",
                        "instanceLocation": "#",
                        "keyword": "properties",
                        "annotations": [
                          {
                            "valid": true,
                            "keywordLocation": "#/allOf/1/properties/foo",
                            "instanceLocation": "#/foo",
                            "annotations": [
                              {
                                "valid": true,
                                "keywordLocation": "#/allOf/1/properties/foo/type",
                                "instanceLocation": "#/foo",
                                "keyword": "type"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/1/required",
                        "instanceLocation": "#",
                        "keyword": "required"
                      }
                    ]
                  }
                ]
              }
            ]
          }
        }
      },
      {
        "description": "mismatch second",
        "data": {"foo": "baz"},
        "valid": false,
        "output": {
          "basic": {
            "valid": false,
            "keywordLocation": "#/allOf/0/required",
            "instanceLocation": "#",
            "keyword": "required",
            "error": "The properties [\"bar\"] are required."
          },
          "detailed": {
            "valid": false,
            "keywordLocation": "#/allOf/0/required",
            "instanceLocation": "#",
            "keyword": "required",
            "error": "The properties [\"bar\"] are required."
          },
          "verbose": {
            "valid": false,
            "keywordLocation": "#",
            "instanceLocation": "#",
            "errors": [
              {
                "valid": false,
                "keywordLocation": "#/allOf",
                "instanceLocation": "#",
                "keyword": "allOf",
                "error": "1 of 2 subschemas failed validation.",
                "errors": [
                  {
                    "valid": false,
                    "keywordLocation": "#/allOf/0",
                    "instanceLocation": "#",
                    "errors": [
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/0/properties",
                        "instanceLocation": "#",
                        "keyword": "properties"
                      },
                      {
                        "valid": false,
                        "keywordLocation": "#/allOf/0/required",
                        "instanceLocation": "#",
                        "keyword": "required",
                        "error": "The properties [\"bar\"] are required."
                      }
                    ]
                  },
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/1",
                    "instanceLocation": "#",
                    "annotations": [
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/1/properties",
                        "instanceLocation": "#",
                        "keyword": "properties",
                        "annotations": [
                          {
                            "valid": true,
                            "keywordLocation": "#/allOf/1/properties/foo",
                            "instanceLocation": "#/foo",
                            "annotations": [
                              {
                                "valid": true,
                                "keywordLocation": "#/allOf/1/properties/foo/type",
                                "instanceLocation": "#/foo",
                                "keyword": "type"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/1/required",
                        "instanceLocation": "#",
                        "keyword": "required"
                      }
                    ]
                  }
                ]
              }
            ]
          }
        }
      },
      {
        "description": "mismatch first",
        "data": {"bar": 2},
        "valid": false,
        "output": {
          "basic": {
            "valid": false,
            "keywordLocation": "#/allOf/1/required",
            "instanceLocation": "#",
            "keyword": "required",
            "error": "The properties [\"foo\"] are required."
          },
          "detailed": {
            "valid": false,
            "keywordLocation": "#/allOf/1/required",
            "instanceLocation": "#",
            "keyword": "required",
            "error": "The properties [\"foo\"] are required."
          },
          "verbose": {
            "valid": false,
            "keywordLocation": "#",
            "instanceLocation": "#",
            "errors": [
              {
                "valid": false,
                "keywordLocation": "#/allOf",
                "instanceLocation": "#",
                "keyword": "allOf",
                "error": "1 of 2 subschemas failed validation.",
                "errors": [
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/0",
                    "instanceLocation": "#",
                    "annotations": [
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/0/properties",
                        "instanceLocation": "#",
                        "keyword": "properties",
                        "annotations": [
                          {
                            "valid": true,
                            "keywordLocation": "#/allOf/0/properties/bar",
                            "instanceLocation": "#/bar",
                            "annotations": [
                              {
                                "valid": true,
                                "keywordLocation": "#/allOf/0/properties/bar/type",
                                "instanceLocation": "#/bar",
                                "keyword": "type"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/0/required",
                        "instanceLocation": "#",
                        "keyword": "required"
                      }
                    ]
                  },
                  {
                    "valid": false,
                    "keywordLocation": "#/allOf/1",
                    "instanceLocation": "#",
                    "errors": [
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/1/properties",
                        "instanceLocation": "#",
                        "keyword": "properties"
                      },
                      {
                        "valid": false,
                        "keywordLocation": "#/allOf/1/required",
                        "instanceLocation": "#",
                        "keyword": "required",
                        "error": "The properties [\"foo\"] are required."
                      }
                    ]
                  }
                ]
              }
            ]
          }
        }
      },
      {
        "description": "wrong type",
        "data": {"foo": "baz", "bar": "quux"},
        "valid": false,
        "output": {
          "basic": {
            "valid": false,
            "keywordLocation": "#/allOf/0/properties/bar/type",
            "instanceLocation": "#/bar",
            "keyword": "type",
            "error": "Values of type \"string\" are not one of the allowed types \"integer\"."
          },
          "detailed": {
            "valid": false,
            "keywordLocation": "#/allOf/0/properties/bar/type",
            "instanceLocation": "#/bar",
            "keyword": "type",
            "error": "Values of type \"string\" are not one of the allowed types \"integer\"."
          },
          "verbose": {
            "valid": false,
            "keywordLocation": "#",
            "instanceLocation": "#",
            "errors": [
              {
                "valid": false,
                "keywordLocation": "#/allOf",
                "instanceLocation": "#",
                "keyword": "allOf",
                "error": "1 of 2 subschemas failed validation.",
                "errors": [
                  {
                    "valid": false,
                    "keywordLocation": "#/allOf/0",
                    "instanceLocation": "#",
                    "errors": [
                      {
                        "valid": false,
                        "keywordLocation": "#/allOf/0/properties",
                        "instanceLocation": "#",
                        "keyword": "properties",
                        "error": "At least one subschema failed validation.",
                        "errors": [
                          {
                            "valid": false,
                            "keywordLocation": "#/allOf/0/properties/bar",
                            "instanceLocation": "#/bar",
                            "errors": [
                              {
                                "valid": false,
                                "keywordLocation": "#/allOf/0/properties/bar/type",
                                "instanceLocation": "#/bar",
                                "keyword": "type",
                                "error": "Values of type \"string\" are not one of the allowed types \"integer\"."
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/0/required",
                        "instanceLocation": "#",
                        "keyword": "required"
                      }
                    ]
                  },
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/1",
                    "instanceLocation": "#",
                    "annotations": [
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/1/properties",
                        "instanceLocation": "#",
                        "keyword": "properties",
                        "annotations": [
                          {
                            "valid": true,
                            "keywordLocation": "#/allOf/1/properties/foo",
                            "instanceLocation": "#/foo",
                            "annotations": [
                              {
                                "valid": true,
                                "keywordLocation": "#/allOf/1/properties/foo/type",
                                "instanceLocation": "#/foo",
                                "keyword": "type"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/1/required",
                        "instanceLocation": "#",
                        "keyword": "required"
                      }
                    ]
                  }
                ]
              }
            ]
          }
        }
      }
    ]
  },
  {
    "description": "allOf with base schema",
    "schema": {
      "properties": {"bar": {"type": "integer"}},
      "required": ["bar"],
      "allOf": [
        {"properties": {"foo": {"type": "string"}}, "required": ["foo"]},
        {"properties": {"baz": {"type": "null"}}, "required": ["baz"]}
      ]
    },
    "tests": [
      {
        "description": "valid",
        "data": {"foo": "quux", "bar": 2, "baz": null},
        "valid": true,
        "output": {
          "basic": {
            "valid": true,
            "keywordLocation": "#",
            "instanceLocation": "#"
          },
          "detailed": {
            "valid": true,
            "keywordLocation": "#",
            "instanceLocation": "#"
          },
          "verbose": {
            "valid": true,
            "keywordLocation": "#",
            "instanceLocation": "#",
            "annotations": [
              {
                "valid": true,
                "keywordLocation": "#/properties",
                "instanceLocation": "#",
                "keyword": "properties",
                "annotations": [
                  {
                    "valid": true,
                    "keywordLocation": "#/properties/bar",
                    "instanceLocation": "#/bar",
                    "annotations": [
                      {
                        "valid": true,
                        "keywordLocation": "#/properties/bar/type",
                        "instanceLocation": "#/bar",
                        "keyword": "type"
                      }
                    ]
                  }
                ]
              },
              {
                "valid": true,
                "keywordLocation": "#/required",
                "instanceLocation": "#",
                "keyword": "required"
              },
              {
                "valid": true,
                "keywordLocation": "#/allOf",
                "instanceLocation": "#",
                "keyword": "allOf",
                "annotations": [
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/0",
                    "instanceLocation": "#",
                    "annotations": [
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/0/properties",
                        "instanceLocation": "#",
                        "keyword": "properties",
                        "annotations": [
                          {
                            "valid": true,
                            "keywordLocation": "#/allOf/0/properties/foo",
                            "instanceLocation": "#/foo",
                            "annotations": [
                              {
                                "valid": true,
                                "keywordLocation": "#/allOf/0/properties/foo/type",
                                "instanceLocation": "#/foo",
                                "keyword": "type"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/0/required",
                        "instanceLocation": "#",
                        "keyword": "required"
                      }
                    ]
                  },
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/1",
                    "instanceLocation": "#",
                    "annotations": [
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/1/properties",
                        "instanceLocation": "#",
                        "keyword": "properties",
                        "annotations": [
                          {
                            "valid": true,
                            "keywordLocation": "#/allOf/1/properties/baz",
                            "instanceLocation": "#/baz",
                            "annotations": [
                              {
                                "valid": true,
                                "keywordLocation": "#/allOf/1/properties/baz/type",
                                "instanceLocation": "#/baz",
                                "keyword": "type"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/1/required",
                        "instanceLocation": "#",
                        "keyword": "required"
                      }
                    ]
                  }
                ]
              }
            ]
          }
        }
      },
      {
        "description": "mismatch base schema",
        "data": {"foo": "quux", "baz": null},
        "valid": false,
        "output": {
          "basic": {
            "valid": false,
            "keywordLocation": "#/required",
            "instanceLocation": "#",
            "keyword": "required",
            "error": "The properties [\"bar\"] are required."
          },
          "detailed": {
            "valid": false,
            "keywordLocation": "#/required",
            "instanceLocation": "#",
            "keyword": "required",
            "error": "The properties [\"bar\"] are required."
          },
          "verbose": {
            "valid": false,
            "keywordLocation": "#",
            "instanceLocation": "#",
            "errors": [
              {
                "valid": true,
                "keywordLocation": "#/properties",
                "instanceLocation": "#",
                "keyword": "properties"
              },
              {
                "valid": false,
                "keywordLocation": "#/required",
                "instanceLocation": "#",
                "keyword": "required",
                "error": "The properties [\"bar\"] are required."
              },
              {
                "valid": true,
                "keywordLocation": "#/allOf",
                "instanceLocation": "#",
                "keyword": "allOf",
                "annotations": [
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/0",
                    "instanceLocation": "#",
                    "annotations": [
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/0/properties",
                        "instanceLocation": "#",
                        "keyword": "properties",
                        "annotations": [
                          {
                            "valid": true,
                            "keywordLocation": "#/allOf/0/properties/foo",
                            "instanceLocation": "#/foo",
                            "annotations": [
                              {
                                "valid": true,
                                "keywordLocation": "#/allOf/0/properties/foo/type",
                                "instanceLocation": "#/foo",
                                "keyword": "type"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/0/required",
                        "instanceLocation": "#",
                        "keyword": "required"
                      }
                    ]
                  },
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/1",
                    "instanceLocation": "#",
                    "annotations": [
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/1/properties",
                        "instanceLocation": "#",
                        "keyword": "properties",
                        "annotations": [
                          {
                            "valid": true,
                            "keywordLocation": "#/allOf/1/properties/baz",
                            "instanceLocation": "#/baz",
                            "annotations": [
                              {
                                "valid": true,
                                "keywordLocation": "#/allOf/1/properties/baz/type",
                                "instanceLocation": "#/baz",
                                "keyword": "type"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/1/required",
                        "instanceLocation": "#",
                        "keyword": "required"
                      }
                    ]
                  }
                ]
              }
            ]
          }
        }
      },
      {
        "description": "mismatch first allOf",
        "data": {"bar": 2, "baz": null},
        "valid": false,
        "output": {
          "basic": {
            "valid": false,
            "keywordLocation": "#/allOf/0/required",
            "instanceLocation": "#",
            "keyword": "required",
            "error": "The properties [\"foo\"] are required."
          },
          "detailed": {
            "valid": false,
            "keywordLocation": "#/allOf/0/required",
            "instanceLocation": "#",
            "keyword": "required",
            "error": "The properties [\"foo\"] are required."
          },
          "verbose": {
            "valid": false,
            "keywordLocation": "#",
            "instanceLocation": "#",
            "errors": [
              {
                "valid": true,
                "keywordLocation": "#/properties",
                "instanceLocation": "#",
                "keyword": "properties",
                "annotations": [
                  {
                    "valid": true,
                    "keywordLocation": "#/properties/bar",
                    "instanceLocation": "#/bar",
                    "annotations": [
                      {
                        "valid": true,
                        "keywordLocation": "#/properties/bar/type",
                        "instanceLocation": "#/bar",
                        "keyword": "type"
                      }
                    ]
                  }
                ]
              },
              {
                "valid": true,
                "keywordLocation": "#/required",
                "instanceLocation": "#",
                "keyword": "required"
              },
              {
                "valid": false,
                "keywordLocation": "#/allOf",
                "instanceLocation": "#",
                "keyword": "allOf",
                "error": "1 of 2 subschemas failed validation.",
                "errors": [
                  {
                    "valid": false,
                    "keywordLocation": "#/allOf/0",
                    "instanceLocation": "#",
                    "errors": [
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/0/properties",
                        "instanceLocation": "#",
                        "keyword": "properties"
                      },
                      {
                        "valid": false,
                        "keywordLocation": "#/allOf/0/required",
                        "instanceLocation": "#",
                        "keyword": "required",
                        "error": "The properties [\"foo\"] are required."
                      }
                    ]
                  },
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/1",
                    "instanceLocation": "#",
                    "annotations": [
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/1/properties",
                        "instanceLocation": "#",
                        "keyword": "properties",
                        "annotations": [
                          {
                            "valid": true,
                            "keywordLocation": "#/allOf/1/properties/baz",
                            "instanceLocation": "#/baz",
                            "annotations": [
                              {
                                "valid": true,
                                "keywordLocation": "#/allOf/1/properties/baz/type",
                                "instanceLocation": "#/baz",
                                "keyword": "type"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/1/required",
                        "instanceLocation": "#",
                        "keyword": "required"
                      }
                    ]
                  }
                ]
              }
            ]
          }
        }
      },
      {
        "description": "mismatch second allOf",
        "data": {"foo": "quux", "bar": 2},
        "valid": false,
        "output": {
          "basic": {
            "valid": false,
            "keywordLocation": "#/allOf/1/required",
            "instanceLocation": "#",
            "keyword": "required",
            "error": "The properties [\"baz\"] are required."
          },
          "detailed": {
            "valid": false,
            "keywordLocation": "#/allOf/1/required",
            "instanceLocation": "#",
            "keyword": "required",
            "error": "The properties [\"baz\"] are required."
          },
          "verbose": {
            "valid": false,
            "keywordLocation": "#",
            "instanceLocation": "#",
            "errors": [
              {
                "valid": true,
                "keywordLocation": "#/properties",
                "instanceLocation": "#",
                "keyword": "properties",
                "annotations": [
                  {
                    "valid": true,
                    "keywordLocation": "#/properties/bar",
                    "instanceLocation": "#/bar",
                    "annotations": [
                      {
                        "valid": true,
                        "keywordLocation": "#/properties/bar/type",
                        "instanceLocation": "#/bar",
                        "keyword": "type"
                      }
                    ]
                  }
                ]
              },
              {
                "valid": true,
                "keywordLocation": "#/required",
                "instanceLocation": "#",
                "keyword": "required"
              },
              {
                "valid": false,
                "keywordLocation": "#/allOf",
                "instanceLocation": "#",
                "keyword": "allOf",
                "error": "1 of 2 subschemas failed validation.",
                "errors": [
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/0",
                    "instanceLocation": "#",
                    "annotations": [
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/0/properties",
                        "instanceLocation": "#",
                        "keyword": "properties",
                        "annotations": [
                          {
                            "valid": true,
                            "keywordLocation": "#/allOf/0/properties/foo",
                            "instanceLocation": "#/foo",
                            "annotations": [
                              {
                                "valid": true,
                                "keywordLocation": "#/allOf/0/properties/foo/type",
                                "instanceLocation": "#/foo",
                                "keyword": "type"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/0/required",
                        "instanceLocation": "#",
                        "keyword": "required"
                      }
                    ]
                  },
                  {
                    "valid": false,
                    "keywordLocation": "#/allOf/1",
                    "instanceLocation": "#",
                    "errors": [
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/1/properties",
                        "instanceLocation": "#",
                        "keyword": "properties"
                      },
                      {
                        "valid": false,
                        "keywordLocation": "#/allOf/1/required",
                        "instanceLocation": "#",
                        "keyword": "required",
                        "error": "The properties [\"baz\"] are required."
                      }
                    ]
                  }
                ]
              }
            ]
          }
        }
      },
      {
        "description": "mismatch both",
        "data": {"bar": 2},
        "valid": false,
        "output": {
          "basic": {
            "valid": false,
            "errors": [
              {
                "valid": false,
                "keywordLocation": "#/allOf",
                "instanceLocation": "#",
                "keyword": "allOf",
                "error": "2 of 2 subschemas failed validation."
              },
              {
                "valid": false,
                "keywordLocation": "#/allOf/0/required",
                "instanceLocation": "#",
                "keyword": "required",
                "error": "The properties [\"foo\"] are required."
              },
              {
                "valid": false,
                "keywordLocation": "#/allOf/1/required",
                "instanceLocation": "#",
                "keyword": "required",
                "error": "The properties [\"baz\"] are required."
              }
            ]
          },
          "detailed": {
            "valid": false,
            "keywordLocation": "#/allOf",
            "instanceLocation": "#",
            "keyword": "allOf",
            "error": "2 of 2 subschemas failed validation.",
            "errors": [
              {
                "valid": false,
                "keywordLocation": "#/allOf/0/required",
                "instanceLocation": "#",
                "keyword": "required",
                "error": "The properties [\"foo\"] are required."
              },
              {
                "valid": false,
                "keywordLocation": "#/allOf/1/required",
                "instanceLocation": "#",
                "keyword": "required",
                "error": "The properties [\"baz\"] are required."
              }
            ]
          },
          "verbose": {
            "valid": false,
            "keywordLocation": "#",
            "instanceLocation": "#",
            "errors": [
              {
                "valid": true,
                "keywordLocation": "#/properties",
                "instanceLocation": "#",
                "keyword": "properties",
                "annotations": [
                  {
                    "valid": true,
                    "keywordLocation": "#/properties/bar",
                    "instanceLocation": "#/bar",
                    "annotations": [
                      {
                        "valid": true,
                        "keywordLocation": "#/properties/bar/type",
                        "instanceLocation": "#/bar",
                        "keyword": "type"
                      }
                    ]
                  }
                ]
              },
              {
                "valid": true,
                "keywordLocation": "#/required",
                "instanceLocation": "#",
                "keyword": "required"
              },
              {
                "valid": false,
                "keywordLocation": "#/allOf",
                "instanceLocation": "#",
                "keyword": "allOf",
                "error": "2 of 2 subschemas failed validation.",
                "errors": [
                  {
                    "valid": false,
                    "keywordLocation": "#/allOf/0",
                    "instanceLocation": "#",
                    "errors": [
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/0/properties",
                        "instanceLocation": "#",
                        "keyword": "properties"
                      },
                      {
                        "valid": false,
                        "keywordLocation": "#/allOf/0/required",
                        "instanceLocation": "#",
                        "keyword": "required",
                        "error": "The properties [\"foo\"] are required."
                      }
                    ]
                  },
                  {
                    "valid": false,
                    "keywordLocation": "#/allOf/1",
                    "instanceLocation": "#",
                    "errors": [
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/1/properties",
                        "instanceLocation": "#",
                        "keyword": "properties"
                      },
                      {
                        "valid": false,
                        "keywordLocation": "#/allOf/1/required",
                        "instanceLocation": "#",
                        "keyword": "required",
                        "error": "The properties [\"baz\"] are required."
                      }
                    ]
                  }
                ]
              }
            ]
          }
        }
      }
    ]
  },
  {
    "description": "allOf simple types",
    "schema": {"allOf": [{"maximum": 30}, {"minimum": 20}]},
    "tests": [
      {
        "description": "valid",
        "data": 25,
        "valid": true,
        "output": {
          "basic": {
            "valid": true,
            "keywordLocation": "#",
            "instanceLocation": "#"
          },
          "detailed": {
            "valid": true,
            "keywordLocation": "#",
            "instanceLocation": "#"
          },
          "verbose": {
            "valid": true,
            "keywordLocation": "#",
            "instanceLocation": "#",
            "annotations": [
              {
                "valid": true,
                "keywordLocation": "#/allOf",
                "instanceLocation": "#",
                "keyword": "allOf",
                "annotations": [
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/0",
                    "instanceLocation": "#",
                    "annotations": [
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/0/maximum",
                        "instanceLocation": "#",
                        "keyword": "maximum"
                      }
                    ]
                  },
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/1",
                    "instanceLocation": "#",
                    "annotations": [
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/1/minimum",
                        "instanceLocation": "#",
                        "keyword": "minimum"
                      }
                    ]
                  }
                ]
              }
            ]
          }
        }
      },
      {
        "description": "mismatch one",
        "data": 35,
        "valid": false,
        "output": {
          "basic": {
            "valid": false,
            "keywordLocation": "#/allOf/0/maximum",
            "instanceLocation": "#",
            "keyword": "maximum",
            "error": "The value 35 should be at most 30."
          },
          "detailed": {
            "valid": false,
            "keywordLocation": "#/allOf/0/maximum",
            "instanceLocation": "#",
            "keyword": "maximum",
            "error": "The value 35 should be at most 30."
          },
          "verbose": {
            "valid": false,
            "keywordLocation": "#",
            "instanceLocation": "#",
            "errors": [
              {
                "valid": false,
                "keywordLocation": "#/allOf",
                "instanceLocation": "#",
                "keyword": "allOf",
                "error": "1 of 2 subschemas failed validation.",
                "errors": [
                  {
                    "valid": false,
                    "keywordLocation": "#/allOf/0",
                    "instanceLocation": "#",
                    "errors": [
                      {
                        "valid": false,
                        "keywordLocation": "#/allOf/0/maximum",
                        "instanceLocation": "#",
                        "keyword": "maximum",
                        "error": "The value 35 should be at most 30."
                      }
                    ]
                  },
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/1",
                    "instanceLocation": "#",
                    "annotations": [
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/1/minimum",
                        "instanceLocation": "#",
                        "keyword": "minimum"
                      }
                    ]
                  }
                ]
              }
            ]
          }
        }
      }
    ]
  },
  {
    "description": "allOf with boolean schemas, all true",
    "schema": {"allOf": [true, true]},
    "tests": [
      {
        "description": "any value is valid",
        "data": "foo",
        "valid": true,
        "output": {
          "basic": {
            "valid": true,
            "keywordLocation": "#",
            "instanceLocation": "#"
          },
          "detailed": {
            "valid": true,
            "keywordLocation": "#",
            "instanceLocation": "#"
          },
          "verbose": {
            "valid": true,
            "keywordLocation": "#",
            "instanceLocation": "#",
            "annotations": [
              {
                "valid": true,
                "keywordLocation": "#/allOf",
                "instanceLocation": "#",
                "keyword": "allOf",
                "annotations": [
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/0",
                    "instanceLocation": "#"
                  },
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/1",
                    "instanceLocation": "#"
                  }
                ]
              }
            ]
          }
        }
      }
    ]
  },
  {
    "description": "allOf with boolean schemas, some false",
    "schema": {"allOf": [true, false]},
    "tests": [
      {
        "description": "any value is invalid",
        "data": "foo",
        "valid": false,
        "output": {
          "basic": {
            "valid": false,
            "keywordLocation": "#/allOf/1",
            "instanceLocation": "#",
            "error": "No value is valid against the false schema."
          },
          "detailed": {
            "valid": false,
            "keywordLocation": "#/allOf/1",
            "instanceLocation": "#",
            "error": "No value is valid against the false schema."
          },
          "verbose": {
            "valid": false,
            "keywordLocation": "#",
            "instanceLocation": "#",
            "errors": [
              {
                "valid": false,
                "keywordLocation": "#/allOf",
                "instanceLocation": "#",
                "keyword": "allOf",
                "error": "1 of 2 subschemas failed validation.",
                "errors": [
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/0",
                    "instanceLocation": "#"
                  },
                  {
                    "valid": false,
                    "keywordLocation": "#/allOf/1",
                    "instanceLocation": "#",
                    "error": "No value is valid against the false schema."
                  }
                ]
              }
            ]
          }
        }
      }
    ]
  },
  {
    "description": "allOf with boolean schemas, all false",
    "schema": {"allOf": [false, false]},
    "tests": [
      {
        "description": "any value is invalid",
        "data": "foo",
        "valid": false,
        "output": {
          "basic": {
            "valid": false,
            "errors": [
              {
                "valid": false,
                "keywordLocation": "#/allOf",
                "instanceLocation": "#",
                "keyword": "allOf",
                "error": "2 of 2 subschemas failed validation."
              },
              {
                "valid": false,
                "keywordLocation": "#/allOf/0",
                "instanceLocation": "#",
                "error": "No value is valid against the false schema."
              },
              {
                "valid": false,
                "keywordLocation": "#/allOf/1",
                "instanceLocation": "#",
                "error": "No value is valid against the false schema."
              }
            ]
          },
          "detailed": {
            "valid": false,
            "keywordLocation": "#/allOf",
            "instanceLocation": "#",
            "keyword": "allOf",
            "error": "2 of 2 subschemas failed validation.",
            "errors": [
              {
                "valid": false,
                "keywordLocation": "#/allOf/0",
                "instanceLocation": "#",
                "error": "No value is valid against the false schema."
              },
              {
                "valid": false,
                "keywordLocation": "#/allOf/1",
                "instanceLocation": "#",
                "error": "No value is valid against the false schema."
              }
            ]
          },
          "verbose": {
            "valid": false,
            "keywordLocation": "#",
            "instanceLocation": "#",
            "errors": [
              {
                "valid": false,
                "keywordLocation": "#/allOf",
                "instanceLocation": "#",
                "keyword": "allOf",
                "error": "2 of 2 subschemas failed validation.",
                "errors": [
                  {
                    "valid": false,
                    "keywordLocation": "#/allOf/0",
                    "instanceLocation": "#",
                    "error": "No value is valid against the false schema."
                  },
                  {
                    "valid": false,
                    "keywordLocation": "#/allOf/1",
                    "instanceLocation": "#",
                    "error": "No value is valid against the false schema."
                  }
                ]
              }
            ]
          }
        }
      }
    ]
  },
  {
    "description": "allOf with one empty schema",
    "schema": {"allOf": [{}]},
    "tests": [
      {
        "description": "any data is valid",
        "data": 1,
        "valid": true,
        "output": {
          "basic": {
            "valid": true,
            "keywordLocation": "#",
            "instanceLocation": "#"
          },
          "detailed": {
            "valid": true,
            "keywordLocation": "#",
            "instanceLocation": "#"
          },
          "verbose": {
            "valid": true,
            "keywordLocation": "#",
            "instanceLocation": "#",
            "annotations": [
              {
                "valid": true,
                "keywordLocation": "#/allOf",
                "instanceLocation": "#",
                "keyword": "allOf",
                "annotations": [
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/0",
                    "instanceLocation": "#"
                  }
                ]
              }
            ]
          }
        }
      }
    ]
  },
  {
    "description": "allOf with two empty schemas",
    "schema": {"allOf": [{}, {}]},
    "tests": [
      {
        "description": "any data is valid",
        "data": 1,
        "valid": true,
        "output": {
          "basic": {
            "valid": true,
            "keywordLocation": "#",
            "instanceLocation": "#"
          },
          "detailed": {
            "valid": true,
            "keywordLocation": "#",
            "instanceLocation": "#"
          },
          "verbose": {
            "valid": true,
            "keywordLocation": "#",
            "instanceLocation": "#",
            "annotations": [
              {
                "valid": true,
                "keywordLocation": "#/allOf",
                "instanceLocation": "#",
                "keyword": "allOf",
                "annotations": [
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/0",
                    "instanceLocation": "#"
                  },
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/1",
                    "instanceLocation": "#"
                  }
                ]
              }
            ]
          }
        }
      }
    ]
  },
  {
    "description": "allOf with the first empty schema",
    "schema": {"allOf": [{}, {"type": "number"}]},
    "tests": [
      {
        "description": "number is valid",
        "data": 1,
        "valid": true,
        "output": {
          "basic": {
            "valid": true,
            "keywordLocation": "#",
            "instanceLocation": "#"
          },
          "detailed": {
            "valid": true,
            "keywordLocation": "#",
            "instanceLocation": "#"
          },
          "verbose": {
            "valid": true,
            "keywordLocation": "#",
            "instanceLocation": "#",
            "annotations": [
              {
                "valid": true,
                "keywordLocation": "#/allOf",
                "instanceLocation": "#",
                "keyword": "allOf",
                "annotations": [
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/0",
                    "instanceLocation": "#"
                  },
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/1",
                    "instanceLocation": "#",
                    "annotations": [
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/1/type",
                        "instanceLocation": "#",
                        "keyword": "type"
                      }
                    ]
                  }
                ]
              }
            ]
          }
        }
      },
      {
        "description": "string is invalid",
        "data": "foo",
        "valid": false,
        "output": {
          "basic": {
            "valid": false,
            "keywordLocation": "#/allOf/1/type",
            "instanceLocation": "#",
            "keyword": "type",
            "error": "Values of type \"string\" are not one of the allowed types \"number\"."
          },
          "detailed": {
            "valid": false,
            "keywordLocation": "#/allOf/1/type",
            "instanceLocation": "#",
            "keyword": "type",
            "error": "Values of type \"string\" are not one of the allowed types \"number\"."
          },
          "verbose": {
            "valid": false,
            "keywordLocation": "#",
            "instanceLocation": "#",
            "errors": [
              {
                "valid": false,
                "keywordLocation": "#/allOf",
                "instanceLocation": "#",
                "keyword": "allOf",
                "error": "1 of 2 subschemas failed validation.",
                "errors": [
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/0",
                    "instanceLocation": "#"
                  },
                  {
                    "valid": false,
                    "keywordLocation": "#/allOf/1",
                    "instanceLocation": "#",
                    "errors": [
                      {
                        "valid": false,
                        "keywordLocation": "#/allOf/1/type",
                        "instanceLocation": "#",
                        "keyword": "type",
                        "error": "Values of type \"string\" are not one of the allowed types \"number\"."
                      }
                    ]
                  }
                ]
              }
            ]
          }
        }
      }
    ]
  },
  {
    "description": "allOf with the last empty schema",
    "schema": {"allOf": [{"type": "number"}, {}]},
    "tests": [
      {
        "description": "number is valid",
        "data": 1,
        "valid": true,
        "output": {
          "basic": {
            "valid": true,
            "keywordLocation": "#",
            "instanceLocation": "#"
          },
          "detailed": {
            "valid": true,
            "keywordLocation": "#",
            "instanceLocation": "#"
          },
          "verbose": {
            "valid": true,
            "keywordLocation": "#",
            "instanceLocation": "#",
            "annotations": [
              {
                "valid": true,
                "keywordLocation": "#/allOf",
                "instanceLocation": "#",
                "keyword": "allOf",
                "annotations": [
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/0",
                    "instanceLocation": "#",
                    "annotations": [
                      {
                        "valid": true,
                        "keywordLocation": "#/allOf/0/type",
                        "instanceLocation": "#",
                        "keyword": "type"
                      }
                    ]
                  },
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/1",
                    "instanceLocation": "#"
                  }
                ]
              }
            ]
          }
        }
      },
      {
        "description": "string is invalid",
        "data": "foo",
        "valid": false,
        "output": {
          "basic": {
            "valid": false,
            "keywordLocation": "#/allOf/0/type",
            "instanceLocation": "#",
            "keyword": "type",
            "error": "Values of type \"string\" are not one of the allowed types \"number\"."
          },
          "detailed": {
            "valid": false,
            "keywordLocation": "#/allOf/0/type",
            "instanceLocation": "#",
            "keyword": "type",
            "error": "Values of type \"string\" are not one of the allowed types \"number\"."
          },
          "verbose": {
            "valid": false,
            "keywordLocation": "#",
            "instanceLocation": "#",
            "errors": [
              {
                "valid": false,
                "keywordLocation": "#/allOf",
                "instanceLocation": "#",
                "keyword": "allOf",
                "error": "1 of 2 subschemas failed validation.",
                "errors": [
                  {
                    "valid": false,
                    "keywordLocation": "#/allOf/0",
                    "instanceLocation": "#",
                    "errors": [
                      {
                        "valid": false,
                        "keywordLocation": "#/allOf/0/type",
                        "instanceLocation": "#",
                        "keyword": "type",
                        "error": "Values of type \"string\" are not one of the allowed types \"number\"."
                      }
                    ]
                  },
                  {
                    "valid": true,
                    "keywordLocation": "#/allOf/1",
                    "instanceLocation": "#"
                  }
                ]
              }
            ]
          }
        }
      }
    ]
  }
]